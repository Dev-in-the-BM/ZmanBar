<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" style="height:64px;margin-right:32px"/>

# I'm trying to build a GNOME extension to modify the date display in the notification center drop down to also display the jewish date.

Is it possible for an extension to modify the date display in the notification center like that?
If yes, how?
(I'm on GNOME ver 48, want it to also be compatible with version 49)

Yes, it is possible for a GNOME extension to modify the date display in the notification center dropdown, though it requires careful targeting of GNOME Shell's UI components using JavaScript (GJS) and remains subject to internal API or UI changes between GNOME releases. Extensions like "Gnome HDate" have successfully added a Jewish date to the top bar, and similar concepts could potentially be applied to the notification center dropdown, but direct date modification in the dropdown specifically (not just the top panel) is more advanced and less commonly done.[^1][^2]

### Technical Approach

- GNOME Shell displays the date in the notification area using JavaScript UI files, typically under `gnome-shell/js/ui/`. Extensions inject new functionality by importing, overriding, or modifying these components at runtime.
- To alter the notification center's date display in GNOME 48/49, an extension would likely override methods or UI objects related to the calendar or notifications menu (for example, by patching or listening to signals from the calendar section).[^3][^4]
- Code would need to generate the Jewish date (possibly using a library like `libhdate`) and inject it wherever the Gregorian date is displayed, ensuring formatting does not break UI layout.[^2][^1]
- API stability: GNOME 49 reportedly does not bring breaking changes to relevant extension files, so approaches built for GNOME 48 using the correct selectors and listeners should remain compatible.[^4]


### Reference Extensions and Existing Solutions

- The "Gnome HDate" extension displays the Hebrew date in the top bar; reviewing its source is valuable for both Jewish date calculation and safe GNOME integration.[^1][^2]
- Extensions like "Date Menu Formatter" and similar ones modify the panel date, but not directly inside the notification dropdown—still, their mechanisms are instructive for patching date displays elsewhere.[^5]


### Steps to Get Started

1. Examine the implementation of Gnome HDate (on GitHub) to see how date calculation and injection into the shell UI are done.
2. Copy the approach for calculating and formatting the Jewish date.
3. Patch/extending the component responsible for the notification dropdown date (possibly extending or replacing its label or contents via the GJS signal system).
4. Test on GNOME 48 and review API notes for GNOME 49 to ensure compatibility.[^3][^4]

### Compatibility and Caveats

- Extensions that patch core UI must be reviewed and possibly updated for each major shell release, as GNOME internals are not stable APIs.
- Testing on both version 48 and 49 before widespread use is recommended.

For code samples and best practices, the source of "Gnome HDate" and related calendar/extensions are the most directly relevant starting points.[^2][^1]
<span style="display:none">[^10][^11][^12][^13][^14][^15][^16][^17][^18][^19][^20][^6][^7][^8][^9]</span>

<div align="center">⁂</div>

[^1]: https://github.com/fiszermane/Gnome-HCal

[^2]: https://extensions.gnome.org/extension/554/gnome-hdate/

[^3]: https://gjs.guide/extensions/upgrading/gnome-shell-48.html

[^4]: https://gjs.guide/extensions/upgrading/gnome-shell-49.html

[^5]: https://www.baeldung.com/linux/gnome-panel-time-format

[^6]: https://www.reddit.com/r/gnome/comments/np4419/gnome_40_notification_panel_really_big_is_there_a/

[^7]: https://discourse.gnome.org/t/how-to-change-menu-box-value-for-gnome-notification-center/1063

[^8]: https://www.omgubuntu.co.uk/2025/07/customise-gnome-shell-notifications-with-this-essential-extension

[^9]: https://forum.manjaro.org/t/how-to-allign-the-date-and-time/88590

[^10]: https://gitlab.gnome.org/GNOME/gnome-shell/-/issues/931

[^11]: https://discussion.fedoraproject.org/t/how-to-remove-hide-add-world-clocks-from-notification-center-without-an-extension/93951

[^12]: https://www.youtube.com/watch?v=ZUzWlej8ymY

[^13]: https://github.com/home-sweet-gnome/dash-to-panel/issues/60

[^14]: https://extensions.gnome.org/extension/8249/notification-configurator/

[^15]: https://www.reddit.com/r/gnome/comments/ufge3s/the_notification_tray_consumes_too_much_space/

[^16]: https://release.gnome.org/49/

[^17]: https://extensions.gnome.org/extension/4651/notification-banner-reloaded/

[^18]: https://extensions.gnome.org/extension/1526/notification-centerselenium-h/

[^19]: https://www.reddit.com/r/linux/comments/1njgmju/gnome_49_released/

[^20]: https://www.reddit.com/r/gnome/comments/1b178fm/an_extension_to_change_where_does_popup/

<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" style="height:64px;margin-right:32px"/>

# give me more detail on how i would go about modifying the date display in the notification center

To modify the date display in the GNOME notification center dropdown, especially to include a Jewish date, you would typically develop a GNOME Shell extension that interacts with the UI components responsible for rendering the date. Here's a more detailed outline on how to approach this:

### 1. Understand GNOME Shell UI Structure

- GNOME Shell's top bar and notification center are built using GJS (GNOME JavaScript bindings). The date and time are rendered by a `DateMenu` or `PanelDateMenu` object located in `panelDateMenu.js`.
- The notification center dropdown uses components inside `notificationDaemon.js` and related files, which include the calendar and date display.
- Use GNOME Shell as a development environment to inspect these components with tools like `Looking glass (lg)` (accessed via `Alt + F2`, then type `lg`), which allows you to explore live UI objects and signals in the shell.


### 2. Hook into the Date Display

- To modify the displayed date, extend or override the existing `PanelDateMenu` or the specific item that renders the date.
- For example, in your extension, you might connect to the `update` or `refresh` signals or override methods like `updateDate()`.


### 3. Generate the Jewish Date

- Use a JavaScript library for date calculation (e.g., a ported version of `HDate` or similar Hebrew calendar library). If none exists directly in JS, you may include your own implementation or call native code via GJS bindings.
- Calculate the Jewish date dynamically whenever the shell updates the date/time display.


### 4. Inject the Jewish Date

- After generating the Jewish date string, modify the existing label or add a new label beside the Gregorian date.
- For example, if the date is rendered using a `St.Label`, you can replace its text or append the Jewish date to it.

```js
let dateLabel = this._clockLabel; // example: reference to the label
dateLabel.set_text(`${gregorianDate} | Jewish Date: ${jewishDate}`);
```


### 5. Ensuring Compatibility

- To support GNOME 48 and 49, avoid internal API that might change; focus on using the public extension APIs and stable objects.
- Use `GObject.signal_connect()` to listen for shell updates, such as clock refresh signals.


### 6. Packaging as a GNOME Shell Extension

- Create extension files:
    - `extension.js` for logic.
    - `metadata.json` for extension info.
- Use a `prefs.js` file if customization is desired.
- Test your extension locally, reload GNOME Shell (`Alt + F2`, then `r`, or restart GNOME).

```bash
gnome-shell --replace &
```


### 7. Testing and Debugging

- Use `looking-glass` to debug live objects.
- Log output with `log()` statements to verify that your code modifies the UI components correctly.


### 8. Example Pseudo-Code

```js
function updateDate() {
  let gregorianDate = ...; // current date
  let jewishDate = calculateJewishDate(new Date());
  this._clockLabel.set_text(`${gregorianDate} | Jewish: ${jewishDate}`);
}
```


### Additional Resources

- [GNOME Shell Extensions Documentation](https://gjs.guide/extensions/)
- [GNOME Shell Source Code](https://gitlab.gnome.org/GNOME/gnome-shell)
- [GJS Guides](https://gjs.guide/)

This high-level overview should give you a framework. You’ll need to delve into specific files and test your mechanism in the live environment, ensuring your code adapts well across GNOME 48 and 49.

Would you like a sample code snippet or a more detailed step-by-step guide for a specific part of this process?

